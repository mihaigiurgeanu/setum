<?xml version="1.0" encoding="iso-8859-2"?>

<!-- BusinessLogic for managing orders
-->

<class>
  <package>ro.kds.erp.biz.setum.basic</package>
  <name>Orders</name>
  <field>
    <name>number</name>
    <type>String</type>
  </field>
  <field>
    <name>date</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>clientId</name>
    <type>Integer</type>
  </field>
  <field>
    <name>clientName</name>
    <type>String</type>
  </field>
  <field>
    <name>montaj</name>
    <type>Integer</type>
  </field>
  <field>
    <name>localitate</name>
    <type>Integer</type>
  </field>
  <field>
    <name>localitateAlta</name>
    <type>String</type>
  </field>
  <field>
    <name>distanta</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>observatii</name>
    <type>String</type>
  </field>
  <field>
    <name>valoareMontaj</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>valoareTransport</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>valoareProduse</name> <!-- suma fara montaj si transport -->
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>total</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>tvaPercent</name>
    <type>Double</type>
  </field>
  <field>
    <name>totalTva</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>discount</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>totalFinal</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>totalFinalTva</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>avans</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>achitatCu</name>
    <type>String</type>
  </field>
  <field>
    <name>valoareAvans</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>payedAmount</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>invoicedAmount</name>
    <type>java.math.BigDecimal</type>
  </field>


  <field>
    <name>totalCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
    <field>
    <name>totalTvaCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>totalFinalCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>totalFinalTvaCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>avansCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>payedAmountCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
  


  <field>
    <name>currencyPayedAmount</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>currencyInvoicedAmount</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>diferenta</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>currencyDiferenta</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>currencyCode</name> <!-- moneda in care se vor tipari sumele -->
    <type>String</type>
  </field>
  <field>
    <name>exchangeRate</name> <!-- rata de schimb folosita fata de moneda in care sunt tinute preturile in baza de date -->
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>termenLivrare</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>termenLivrare1</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>adresaMontaj</name>
    <type>String</type>
  </field>
  <field>
    <name>adresaReper</name>
    <type>String</type>
  </field>
  <field>
    <name>telefon</name>
    <type>String</type>
  </field>
  <field>
    <name>contact</name>
    <type>String</type>
  </field>
  <field>
    <name>deliveryHour</name>
    <type>String</type>
  </field>
  <field>
    <name>tipDemontare</name><!-- cod tip deomntare, categorie 11205 -->
    <type>String</type>
  </field>
  <field>
    <name>attribute1</name>
    <type>String</type>
  </field>
  <field>
    <name>attribute2</name>
    <type>String</type>
  </field>
  <field>
    <name>attribute3</name>
    <type>String</type>
  </field>
  <field>
    <name>attribute4</name>
    <type>String</type>
  </field>
  <field>
    <name>attribute5</name>
    <type>String</type>
  </field>

  <!-- campuri pentru raportul de livrari -->
  <field>
    <name>livrariRStart</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>livrariREnd</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>livrariCuMontaj</name>
    <type>String</type>
  </field>
  <!-- end raport livrari -->

  <!-- campuri pentru raportul de incasari -->
  <field>
    <name>incasariFromDate</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>incasariToDate</name>
    <type>java.util.Date</type>
  </field>
  <!-- Subform orderLine -->

  <field>
    <name>offerItemId</name>
    <type>Integer</type>
  </field>
  <field>
    <name>productName</name>
    <type>String</type>
  </field>
  <field>
    <name>productCode</name>
    <type>String</type>
  </field>
  <field>
    <name>price</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>productPrice</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>priceRatio</name>
    <type>Double</type>
  </field>
  <field>
    <name>quantity</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>value</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>tax</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>codMontaj</name>
    <type>Integer</type>
  </field>
  <field>
    <name>montajProcent</name>
    <type>Double</type>
  </field>
  <field>
    <name>montajSeparat</name>
    <type>Boolean</type>
  </field>


  <!-- Subform proforma -->
  <field>
    <name>proformaNumber</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaDate</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>proformaRole</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAmount</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>proformaTax</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>proformaExchangeRate</name>
    <type>Double</type>
  </field>
  <field>
    <name>proformaTotal</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <!-- camp calculat - reprezinta procentul valorii
	 proformei din valoarea comenzii -->
    <name>proformaPercent</name>
    <type>Double</type>
  </field>
  <field>
    <!-- true   - proforma tiparita afiseaza procentul
	 false  - proforma tiparita afiseaza doar valoara -->
    <name>proformaUsePercent</name>
    <type>Boolean</type>
  </field>
  <field>
    <name>proformaComment</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaContract</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaObiectiv</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaCurrency</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAmountCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>proformaTaxCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>proformaTotalCurrency</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>proformaAttribute1</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute2</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute3</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute4</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute5</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute6</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute7</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute8</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute9</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute10</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute11</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute12</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute13</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute14</name>
    <type>String</type>
  </field>
  <field>
    <name>proformaAttribute15</name>
    <type>String</type>
  </field>

  <!-- Subform invoice -->
  <field>
    <name>invoiceNumber</name>
    <type>String</type>
  </field>
  <field>
    <name>invoiceDate</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>invoiceRole</name>
    <type>String</type>
  </field>
  <field>
    <name>invoiceAmount</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>invoiceTax</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>invoiceExchangeRate</name>
    <type>Double</type>
  </field>
  <field>
    <name>invoiceTotal</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>invoicePayed</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>invoiceUnpayed</name>
    <type>java.math.BigDecimal</type>
  </field>
  

  <!-- Subform payment -->
  <field>
    <name>paymentNumber</name>
    <type>String</type>
  </field>
  <field>
    <name>paymentDate</name>
    <type>java.util.Date</type>
  </field>
  <field>
    <name>paymentAmount</name>
    <type>java.math.BigDecimal</type>
  </field>
  <field>
    <name>paymentExchangeRate</name>
    <type>Double</type>
  </field>



  <!-- Subform payment -->


  <subforms>
    <subform name="orderLine"/>
    <subform name="proforma"/>
    <subform name="invoice"/>
    <subform name="payment"/>
  </subforms>


  <!-- Add method declaration to the remote interface -->
  <remote>
    <!-- Orders listing -->
    <method>ResponseBean getOrdersCount() throws RemoteException</method>
    <method>ResponseBean loadListing(Integer startRow) throws RemoteException</method>
    <!-- full orders listing -->
    <method>ResponseBean loadFullListing() throws RemoteException</method>

    <!-- Remove current order -->
    <method>ResponseBean removeOrder() throws RemoteException</method>

    <!-- Order items listing -->
    <method>ResponseBean loadLines() throws RemoteException</method>

    <!-- Remove current invoice -->
    <method>ResponseBean removeInvoice() throws RemoteException</method>

    <!-- Listing of proformas -->
    <method>ResponseBean loadProformas() throws RemoteException</method>

    <method>ResponseBean removeProforma() throws RemoteException</method>

    <!-- Listing of invoices -->
    <method>ResponseBean loadInvoices() throws RemoteException</method>

    <!-- Remove current payment -->
    <method>ResponseBean removePayment() throws RemoteException</method>

    <!-- Listing of payments -->
    <method>ResponseBean loadPayments() throws RemoteException</method>

    <method>ResponseBean orderReport() throws RemoteException</method>

    <method>ResponseBean proformaReport() throws RemoteException</method>

    <method>ResponseBean initLivrariReport(String cuMontaj) throws RemoteException</method>
    <method>ResponseBean livrariReport() throws RemoteException</method>
    <method>ResponseBean livrariCuMontajReport() throws RemoteException</method>
    <method>ResponseBean livrariFaraMontajReport() throws RemoteException</method>
    <method>ResponseBean incasariReport() throws RemoteException</method>
  </remote>

  <!-- Services that may have scripts associated with -->
  <services>

    <!-- Make an order item out of an offered item -->
    <method returnType="standard">
      <name>addItem</name>
      <params>
	<param>
	  <name>offerIntemId</name>
	  <type>Integer</type>
	</param>
      </params>
    </method>


    <!-- Remove an order item -->
    <method returnType="standard">
      <name>removeItem</name>
      <params>
      </params>
    </method>
  </services>

</class>